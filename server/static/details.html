<img ng-show="loading" class="center-block loading" src="/static/images/loader.gif" />

<div ng-show="!loading" class="panel panel-default">
	<div class="panel-heading">

		<span class="pull-right"> {{ log.created }} </span>
		<a ng-href="/#/{{ log.checksum }}/">{{ log.data.argv }}</a><span ng-if="name">: {{ name }}</span>

	</div>

	<p ng-if="currentProfiles.length == 0" class="lead text-center" style="padding-top: 15px">
		no profiles
	</p>

	<div ng-if="currentProfiles.length > 0" class="row">
		<div class="col-md-7">
			<table class="table table-hover">
				<thead>
					<tr>
						<th>name</th>
						<th>file</th>
						<th>time</th>
					</tr>
				</thead>

				<tbody>
					<tr ng-repeat="profile in currentProfiles" ng-class="{active: address==profile.address}">
						<td>
							<a ng-href="/#/{{ log.checksum }}/?id={{ profile.address }}">
								{{ profile.name }}
							</a>
						</td>
						<td>{{ profile.file }}:{{ profile.line }}</td>
						<td>{{ profile.times.toFixed(2) }}%</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div class="col-md-5">
			{{ visualization }}
			<div class="btn-group" role="group" aria-label="...">
				<button type="button" class="btn btn-default"
						ng-click="visualizationChange('squares')"
						ng-class="{active: visualization=='squares'}"}>
					<span class="glyphicon glyphicon-th" aria-hidden="true"></span>
				</button>
				<button type="button" class="btn btn-default"
						ng-click="visualizationChange('flames')"
						ng-class="{active: visualization=='flames'}"}>
					<span class="glyphicon glyphicon-align-center" aria-hidden="true"></span>
				</button>
			</div>

			<div id="visualization"></div>
		</div>
	</div>
</div>
